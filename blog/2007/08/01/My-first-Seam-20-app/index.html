<!DOCTYPE html>
<html>
  <head>
    <title>
      wesleyhales.com: My first Seam 2.0 app
    </title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <link href="/stylesheets/global.css?v30" media="screen, print" rel="stylesheet" type="text/css">
    <link href="/blog.atom" rel="alternate" type="application/atom+xml">
    <script defer="defer" src="/js/modernizr.js" type="text/javascript"></script>
  </head>
  <body>
    <header>
      <div class="header-box" onclick="window.location = 'http://wesleyhales.com'">
        <div class="logo-bold">wesleyhales<span>.com</span></div>
        <nav class="console">
          <ul id="menu">
            <li id="home">
              <a href="/index.html">Blog</a>
            </li>
            <li id="design">
              <a href="/design/?p=design">Projects</a>
            </li>
            <li id="projects">
              <a href="/contact/?p=contact">Me</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <aside id="rightcol">
      <div class="shadow-helper">
        <div class="left-toolbar">
          <section class="recent-comments">
            <header>
              <div class="dsq-widget" id="recentcomments">
                <h2 class="dsq-widget-title">
                  Recent Comments
                </h2>
                <script src="http://wesleyhales.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=0&amp;avatar_size=24&amp;excerpt_length=200" type="text/javascript"></script>
              </div>
            </header>
          </section>
          <section class="tags">
            <header>
              <h2 class="tags-title">
                My Book
              </h2>
              <div class="book-container">
                <a href="http://shop.oreilly.com/product/0636920024088.do">
                  <img src="/images/icons/mybook.png">
                </a>
              </div>
            </header>
          </section>
          <section class="tweets">
            <header>
              <h2 class="tweets-title">
                <a href="http://twitter.com/wesleyhales">
                  <img src="//si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png">
                  My Tweets
                </a>
              </h2>
              <div id="twitter_div">
                <ul id="twitter_update_list"></ul>
              </div>
            </header>
          </section>
        </div>
      </div>
    </aside>
    <div id="main">
      <div id="post-container">
        <div class="article-list">
          <div class="post_navigation">
            <div class="previous_post link">
              Previous:
              <a href="/blog/2007/07/05/iPhone-Web-Development/">
                iPhone Web Development
              </a>
            </div>
            <div class="next_post link">
              Next:
              <a href="/blog/2007/08/14/CSS-Framework/">
                CSS Framework
              </a>
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="post">
            <h2 class="title">
              My first Seam 2.0 app
            </h2>
            <h3 class="date">
              01 August 2007
            </h3>
            <h4 class="tags">
              <a href="/blog/tags/Java/">
                Java
              </a>
              |
              <a href="/blog/tags/flying/">
                flying
              </a>
              |
              <a href="/blog/tags/hibernate/">
                hibernate
              </a>
              |
              <a href="/blog/tags/jsf/">
                jsf
              </a>
              |
              <a href="/blog/tags/saucer/">
                saucer
              </a>
              |
              <a href="/blog/tags/seam/">
                seam
              </a>
              |
              <a href="/blog/tags/trinidad/">
                trinidad
              </a>
              |
            </h4>
            <div class="content">
              
              
              <p>Before I begin, let me say thank you! thank you! thank you! for the extended EL in Seam. On a previous project, I was using straight JSF 1.1/1.2(Myfaces) and the extended EL alone, makes Seam a worthwhile choice.</p>
              
              
              <p></p>
              
              <p>This article is about an application that is relatively simple (to start). A report with customer information that has pretty charts and graphs and is printable to PDF. Since I didn't have any requirements to start, I thought I would list a few of my own here ;)</p>
              
              
              <p></p>
              
              <ul> 
              <li>JSF &amp; Seam 
              <ul> 
              <li>RESTful URL's</li> 
              <li>EJB3/Hibernate</li> 
              <li>Local, rapid, development</li> 
              </ul> 
              </li> 
              <li>Maven 2</li> 
              <li>Charts</li> 
              <li>Html 2 PDF functionality</li> 
              </ul>
              
              
              <p></p>
              
              <h2>JSF &amp; Seam </h2>
              
              
              <p></p>
              
              <p>When I started development, Seam was at v.1.2, Embedded EJB (aka Embedded Jboss) was at RC9, and Jetty was being used for local dev and testing. I was able to get a jump start from the guys over at <a href="http://software.softeu.cz/archetypes/seam/">http://softeu.cz</a> for the jetty/ejb/war deployment and I found a rouge project on the seam boards called JBossSeamDVDStore that gave me the ejb Maven archetype ideas/best practice. </p>
              
              
              <p></p>
              
              <p>I went through some good (and bad) code getting the embedded RC9 stuff working with Jetty. It boiled down to <a href="http://www.jboss.com/index.html?module=bb&op=viewtopic&t=110555">this post</a> showing why and what I did.</p>
              
              
              <p></p>
              
              <p>The good and bad news now is that Embedded EJB3 is now Embedded Jboss and Embedded Jboss only works with Tomcat (for now) and here is <a href="http://wiki.jboss.org/wiki/Wiki.jsp?page=WhatRefactoringsWereDoneToEnableEmbeddedJBoss">a post explaining</a> why it's this way. But this could also be a blueprint for creating the same thing for Jetty, I just don't have the time to do it right now.</p>
              
              
              <p></p>
              
              <p><a href="http://www.google.com/notebook/public/09243180899526162200/BDRKQSgoQ77rF_7Yi">Here is a list</a> of resources I found useful while researching.<p> 
              
              <h2>RESTful URL's</h2> 
              <p>The #1 biggest complaint using JSF is no RESTful urls, and Seam does a great job of solving it. The only problem I have now is double execution when the user does a postback to a page that has a action mapped in pages.xml. The form I'm submitting calls the same action as the url I have mapped for REST support. I haven't spent alot of time with it and it may be total user error, but it would be nice if double action execution did NOT happen naturally.</p> 
              
              <h2>EJB3/Hibernate</h2> 
              <p>Using seam-gen, in Oracle, a few tables had null id fields and no primary key - The generated entity bean was genned as a object with one member (an ID) and I guess it was considering the entire record (all columns) as a unique. Being new to EntityBean/Generated hibernate code, it took us a few hours to figure this out, but once we saw that the data model was screwed up and how seam-gen handled it, the fix was easy.</p> 
              
              <h2>Local, rapid, development</h2> 
              <p>This was mentioned a little in the first paragraph. I wanted a faster, local build environment than what was currently offered by the company I'm working for. They are heavily tied to ant and there were 0 projects using Maven. So, being the completely crazy person that I am, I introduced a new build method with Maven 2, a new Framework wrapper (Seam), and a local build on the developers laptop with hot deploy. I know Jboss AS offers hot deploy, but I really wanted to use Jetty with Embedded Jboss. Since, that isn't currently implemented, I went with the next best thing and used Tomcat. My current company gives every developer a Solaris box to build on, all builds/projects are tied to building on Solaris. When one tries to use IntelliJ Idea over a Samba mount, you will quickly see how much it brings down overall performance and speed. There are other pluses that I could go into on local dev opposed to a remote *nix box, but I will stop here.</p> 
              
              <h2>Maven 2</h2> 
              <p>When you have 100's of projects on Ant and everyone in the company is pro Ant because so much time has been invested into the current build environment, you really feel like your going against the grain. However, most of us in the open source world, that are consultants, have seen the light on other projects and we bring new things into whoever we are working for. This is what I did. I eventually gained a few supporters, because everyone knows what happens when you are close minded to innovation.</p> 
              
              <h2>Charts</h2> 
              <p>I think using the Trinidad Charts are what WOW'd the upper management the most. Since this company has a distributed computing environment with no admin rights, we had to get the security/network folks on board with the Adobe SVG plugin. I heard the Renesis viewer is pretty good also and we will probably move to it later since Adobe is killing support on their plugin.</p> 
              
              <h2>Html 2 PDF functionality</h2> 
              <p> 
              PD4ML: I started with this HTML2PDF renderer. It was super easy to get hooked up to the app. I structured my xhtml and css for both screen and print media types, but due to lack of CSS 2.1 support and very limited subset of css and html support, the output was terrible and required alot of rework just for this PDF to render half way decent. And it costs money :( 
              </p> 
              <p> With the output coming out horrible in PD4ML, I took a look at <a href="https://xhtmlrenderer.dev.java.net/r7/feature-list.html">a pure xhtml renderer, Flying Saucer. </a></p> 
              <p>FS Almost instantly rendered all of my XHTML correctly on the first render. I had to make a few adjustments for things like CSS page-break properties and border-collapse. And, before I could even get the page to render I had to clean up the legacy HTML that some <a href="https://issues.apache.org/jira/browse/TRINIDAD-111">JSF renderers output</a> (I ran tests with both Jtidy and NekoHTML) - both did the trick and I couldn't tell a difference. All the JSF folks that I have talked to welcome feature requests for XHTML compliance. 
              </p> 
              <p> 
              <a href="http://www.pdoubleya.com/projects/flyingsaucer/demo/r7/browser/browser_demo.jnlp">This demo</a> shows some pretty cool stuff from Flying Saucer and what it can do. It is basically the same concept of iTunes web browser/desktop app. PDF isn't the end of the road either - they have examples on rendering the exact same XHTML content to PNG, SVG, and Excel - I'm sure there will be more. 
              </p> 
              <p>There are probably a million more things in Seam that I could talk about here, that I completely can't live without. This article just touches on the real world stuff that I encountered while developing. </p>
            </div>
            <div class="comments">
              
                          <div id="disqus_thread"></div>
                          <script type="text/javascript">
                          var disqus_shortname = 'wesleyhales';
                          var disqus_url = "http://www.wesleyhales.com/blog/2007/08/01/My-first-Seam-20-app/";
                          var disqus_developer = null;
                          var disqus_identifier = null;
                          (function() {
                            var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                            dsq.src = "http://wesleyhales.disqus.com/embed.js";
                            (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                          })();
                          </script>
                          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=wesleyhales">comments powered by Disqus.</a></noscript>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br class="clear">
    <script defer="defer" src="//platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script defer="defer" src="http://twitter.com/javascripts/blogger.js" type="text/javascript"></script>
    <script defer="defer" src="/js/site.js" type="text/javascript"></script>
    <script defer="defer" src="https://api.twitter.com/1/statuses/user_timeline.json?screen_name=wesleyhales&amp;callback=twitterCallback3&amp;count=10" type="text/javascript"></script>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-1241000-10");
    pageTracker._trackPageview();
    } catch(err) {}</script>
  </body>
</html>
