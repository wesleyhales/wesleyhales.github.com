<!DOCTYPE html>
<html>
  <head>
    <title>
      wesleyhales.com: Ajax4Jsf Modal Loading Windows
    </title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <link href='/stylesheets/global.css' media='screen, print' rel='stylesheet' type='text/css' />
    <link href='/blog.atom' rel='alternate' type='application/atom+xml' />
    <script src='/js/modernizr.js' type='text/javascript'></script>
  </head>
  <body>
    <header>
      <div class='header-box' onclick="window.location = 'http://wesleyhales.com'">
        <div class='logo-bold'>wesleyhales<span>.com</span></div>
        <nav class='console'>
          <ul id='menu'>
            <li id='home'>
              <a href='/index.html'>Blog</a>
            </li>
            <li id='design'>
              <a href='/design/?p=design'>Design</a>
            </li>
            <li id='projects'>
              <a href='/projects/?p=projects'>Projects</a>
            </li>
            <li id='contact'>
              <a href='/contact/?p=contact'>Contact</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
    <aside id='rightcol'>
      <div class='shadow-helper'>
        <div class='left-toolbar'>
          <section class='tweets'>
            <header>
              <h2 class='tweets-title'>
                <a href='http://twitter.com/wesleyhales'>
                  <img src='//si0.twimg.com/images/dev/cms/intents/bird/bird_blue/bird_16_blue.png' />
                  Tweets
                </a>
              </h2>
              <div id='twitter_div'>
                <ul id='twitter_update_list'></ul>
              </div>
            </header>
          </section>
          <section class='tags'>
            <header>
              <h2 class='tags-title'>
                Tags
              </h2>
            </header>
            <span class='tag tag-0'>
              <a href='/blog/tags/2.0/'>2.0</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/2011/'>2011</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/301/'>301</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/Design/'>Design</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/JSF/'>JSF</a>
            </span>
            <span class='tag tag-6'>
              <a href='/blog/tags/Java/'>Java</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/Life/'>Life</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/Utils/'>Utils</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/aerogear/'>aerogear</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/ajax/'>ajax</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/ajaxworld/'>ajaxworld</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/anniversary/'>anniversary</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/ant/'>ant</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/anthem/'>anthem</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/bad/'>bad</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/balls/'>balls</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/blog/'>blog</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/bridge/'>bridge</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/cargo/'>cargo</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/cdi/'>cdi</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/conferences/'>conferences</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/container/'>container</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/css/'>css</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/css3/'>css3</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/demo/'>demo</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/design/'>design</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/drive/'>drive</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/enterprise/'>enterprise</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/facebook/'>facebook</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/file/'>file</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/firefox/'>firefox</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/flying/'>flying</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/forensics/'>forensics</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/framework/'>framework</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/god/'>god</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/growl/'>growl</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/hard/'>hard</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/hibernate/'>hibernate</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/hornetq/'>hornetq</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/html5/'>html5</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/html5e/'>html5e</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/infinispan/'>infinispan</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/innerhtml/'>innerhtml</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/iscroll/'>iscroll</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jazoon/'>jazoon</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/jboss/'>jboss</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jesus/'>jesus</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jetty/'>jetty</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jms/'>jms</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jquery/'>jquery</a>
            </span>
            <span class='tag tag-2'>
              <a href='/blog/tags/jsf/'>jsf</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/jsr/'>jsr</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/kick/'>kick</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/life/'>life</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/lrd/'>lrd</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/maven/'>maven</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/mobile/'>mobile</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/modal/'>modal</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/opensocial/'>opensocial</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/pdf/'>pdf</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/phonegap/'>phonegap</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/portal/'>portal</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/portals/'>portals</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/portlet/'>portlet</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/portlets/'>portlets</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/recovery/'>recovery</a>
            </span>
            <span class='tag tag-2'>
              <a href='/blog/tags/richfaces/'>richfaces</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/saucer/'>saucer</a>
            </span>
            <span class='tag tag-2'>
              <a href='/blog/tags/seam/'>seam</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/theme/'>theme</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/tomcat/'>tomcat</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/trinidad/'>trinidad</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/undelete/'>undelete</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/util/'>util</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/vacation/'>vacation</a>
            </span>
            <span class='tag tag-1'>
              <a href='/blog/tags/web/'>web</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/websocket/'>websocket</a>
            </span>
            <span class='tag tag-0'>
              <a href='/blog/tags/weld/'>weld</a>
            </span>
          </section>
          <div class='none' id='fillitkillit'>
            Why waste this space?
            <br />
            <a href='javascript:fillit();void(0)'>fill</a>
            |
            <a href='javascript:killit();void(0)'>kill</a>
          </div>
        </div>
      </div>
    </aside>
    <div id='main'>
      <div id='post-container'>
        <div class='article-list'>
          <div class='post_navigation'>
            <div class='previous_post link'>
              Previous:
              <a href='/blog/2006/12/18/Using-Facelets-TagHandlers-and-Adding-multiple-listeners/'>
                Using Facelets TagHandlers and Adding multiple listeners
              </a>
            </div>
            <div class='next_post link'>
              Next:
              <a href='/blog/2006/12/31/JSF-Ajax-FilterSlider-with-UIData/'>
                JSF Ajax Filter/Slider with UIData
              </a>
            </div>
            <div class='clearfix'></div>
          </div>
          <div class='post'>
            <h2 class='title'>
              Ajax4Jsf Modal Loading Windows
            </h2>
            <h3 class='date'>
              26 December 2006
            </h3>
            <h4 class='tags'>
              <a href='/blog/tags/Java/'>
                Java
              </a>
            </h4>
            <div class='content'>
              
              
              <p>Ajax4Jsf's status tag (<a href="https://ajax4jsf.dev.java.net/nonav/documentation/ajax-documentation/ch06s11.html">a4j:status</a>) has alot of potential, but currently it's functionality is limited. With the combination of <a href="http://www.huddletogether.com/projects/lightbox2/">Lightbox 2.0</a>, or basically any javascript developed to build the dom, you can achieve the look of any modal "Loading..." window.</p>
              
              
              <p></p>
              
              <p>Since the status tag does not include capability to fire javascript events(<a href="https://ajax4jsf.dev.java.net/servlets/ReadMsg?list=users&msgNo=1893">as of yet</a>), we will use the modified lightbox script to go ahead and write everything to the dom, then let the a4j:status tag to hide it until we make an Ajax call.</p>
              
              
              <p></p>
              
              <p>*Update - I recently created a <a href="http://code.google.com/p/seam-2-sandbox/">working demo application</a> for this modal. Read the updated blog entry <a href=" http://www.jroller.com/wesleyhales/entry/richfaces_loading_modal_with_a4j">here</a>.</p>
              
              
              
              
              <p class="pTitle">Facelet Source</p>
              
              
              <p></p>
              
              <p>This just shows basic usage with the A4J framework</p>
              
              
              <p></p>
              
              <pre> &#x000A;<code> &#x000A;&#x000A;</a><a name="l26"> <span class="s1">&lt;</span><span class="s5">script </span><span class="s2">type=</span><span class="s4">"text/javascript" </span><span class="s2">src=</span><span class="s4">"/facelet-sandbox/js/scriptaculous-js-1.6.5/lib/prototype.js"</span><span class="s1">&gt;&lt;/</span><span class="s5">script</span><span class="s1">&gt;</span><span class="s3"> &#x000A;&#x000A;</span></a><a name="l27"> <span class="s1">&lt;</span><span class="s5">script </span><span class="s2">type=</span><span class="s4">"text/javascript" </span><span class="s2">src=</span><span class="s4">"/facelet-sandbox/js/scriptaculous-js-1.6.5/src/scriptaculous.js?load=effects"</span><span class="s1">&gt;&lt;/</span><span class="s5">script</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l28"> <span class="s1">&lt;</span><span class="s5">script </span><span class="s2">type=</span><span class="s4">"text/javascript" </span><span class="s2">src=</span><span class="s4">"/facelet-sandbox/js/modal.js"</span><span class="s1">&gt;&lt;/</span><span class="s5">script</span><span class="s1">&gt;</span><span class="s3"> &#x000A;&#x000A;</span></a><a name="l29"> &#x000A;</a><a name="l30"> &#x000A;</a><a name="l31"> <span class="s1">&lt;</span><span class="s5">style </span><span class="s2">type=</span><span class="s4">"text/css"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l32"> &#x000A;</a><a name="l33"> <span class="s6">@import </span><span class="s7">"/facelet-sandbox/css/modal.css"</span><span class="s3">; &#x000A;</span></a><a name="l34"> &#x000A;</a><a name="l35"> <span class="s1">&lt;/</span><span class="s5">style</span><span class="s1">&gt;</span><span class="s3"> &#x000A;&#x000A;</span></a><a name="l36"> &#x000A;</a><a name="l37"> &#x000A;</a><a name="l38"> <span class="s1">&lt;</span><span class="s5">a4j:region </span><span class="s2">id=</span><span class="s4">"stat1"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l39"> &#x000A;</a><a name="l40"> <span class="s1">&lt;</span><span class="s5">a4j:outputPanel </span><span class="s2">id=</span><span class="s4">"list-body"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l41"> &#x000A;</a><a name="l42"> <span class="s1">&lt;</span><span class="s5">t:dataTable </span><span class="s2">id=</span><span class="s4">"carIndex"</span><span class="s1"> &#x000A;&#x000A;</span></a><a name="l43"> <span class="s8">...</span><span class="s3"> &#x000A;</span></a><a name="l44"> <span class="s1">&lt;/</span><span class="s5">t:dataTable</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l45"> &#x000A;</a><a name="l46"> <span class="s1">&lt;/</span><span class="s5">a4j:outputPanel</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l47"> &#x000A;</a><a name="l48"> <span class="s1">&lt;</span><span class="s5">ac:ajaxDataScroller </span><span class="s2">id=</span><span class="s4">"scroll_1"</span><span class="s1"> &#x000A;&#x000A;</span></a><a name="l49"> <span class="s2">for=</span><span class="s4">"carList"</span><span class="s1"> &#x000A;</span></a><a name="l50"> <span class="s2">maxPages=</span><span class="s4">"9"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l51"> <span class="s1">&lt;/</span><span class="s5">ac:ajaxDataScroller</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l52"> &#x000A;</a><a name="l53"> <span class="s1">&lt;</span><span class="s5">a4j:status </span><span class="s2">for=</span><span class="s4">"stat1" </span><span class="s2">forceId=</span><span class="s4">"true" </span><span class="s2">id=</span><span class="s4">"ajaxStatus"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;&#x000A;</span></a><a name="l54"> <span class="s1">&lt;</span><span class="s5">f:facet </span><span class="s2">name=</span><span class="s4">"start"</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l55"> <span class="s1">&lt;</span><span class="s5">div </span><span class="s2">id=</span><span class="s4">"loading-modal"</span><span class="s1">&gt;&lt;/</span><span class="s5">div</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l56"> <span class="s1">&lt;/</span><span class="s5">f:facet</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l57"> <span class="s1">&lt;/</span><span class="s5">a4j:status</span><span class="s1">&gt;</span><span class="s3"> &#x000A;&#x000A;</span></a><a name="l58"> &#x000A;</a><a name="l59"> <span class="s1">&lt;/</span><span class="s5">a4j:region</span><span class="s1">&gt;</span><span class="s3"> &#x000A;</span></a><a name="l60"> &#x000A;</a><a name="l61"> &#x000A;&#x000A;</code> </pre>
              
              
              <p></p>
              
              <p class="pTitle">Css Source</p>
              
              
              <p></p>
              
              <p>Some generic css and important background styles at bottom:</p>
              
              
              <p></p>
              
              <pre> &#x000A;<code> &#x000A;&#x000A;<a name="l1"><span class="s0"> &#x000A;<a name="l2"></span><span class="s1">/**************************************************************/</span><span class="s0"> &#x000A;<a name="l3"></span><span class="s1">/*Modal Window*/</span><span class="s0"> &#x000A;<a name="l4"> &#x000A;<a name="l5"></span><span class="s2">#modal </span><span class="s0">{ &#x000A;<a name="l6"> </span><span class="s3">background-color</span><span class="s0">: </span><span class="s2">#eee</span><span class="s0">; &#x000A;<a name="l7"> </span><span class="s3">padding</span><span class="s0">: </span><span class="s4">10</span><span class="s5">px</span><span class="s0">; &#x000A;&#x000A;<a name="l8"> </span><span class="s3">border-bottom</span><span class="s0">: </span><span class="s4">2</span><span class="s5">px solid </span><span class="s2">#666</span><span class="s0">; &#x000A;<a name="l9"> </span><span class="s3">border-right</span><span class="s0">: </span><span class="s4">2</span><span class="s5">px solid </span><span class="s2">#666</span><span class="s0">; &#x000A;<a name="l10"> } &#x000A;<a name="l11"> &#x000A;&#x000A;<a name="l12"></span><span class="s2">#modal-details </span><span class="s0">{ &#x000A;<a name="l13"> </span><span class="s3">font-size</span><span class="s0">: </span><span class="s4">8</span><span class="s5">px</span><span class="s0">; </span><span class="s1">/* originally 8px */</span><span class="s0"> &#x000A;<a name="l14"> </span><span class="s3">padding-top</span><span class="s0">: </span><span class="s4">4</span><span class="s5">px</span><span class="s0">; &#x000A;<a name="l15"> } &#x000A;&#x000A;<a name="l16"> &#x000A;<a name="l17"></span><span class="s2">#modal-caption </span><span class="s0">{ &#x000A;<a name="l18"> </span><span class="s3">float</span><span class="s0">: </span><span class="s3">left</span><span class="s0">; &#x000A;<a name="l19">} &#x000A;<a name="l20"> &#x000A;<a name="l21"></span><span class="s2">#loadingMsg </span><span class="s0">{ &#x000A;<a name="l22"> </span><span class="s3">float</span><span class="s0">: </span><span class="s3">right</span><span class="s0">; &#x000A;&#x000A;<a name="l23">} &#x000A;<a name="l24"> &#x000A;<a name="l25"></span><span class="s2">#modal img </span><span class="s0">{ &#x000A;<a name="l26"> </span><span class="s3">border</span><span class="s0">: </span><span class="s5">none</span><span class="s0">; &#x000A;<a name="l27"> </span><span class="s3">clear</span><span class="s0">: </span><span class="s5">both</span><span class="s0">; &#x000A;<a name="l28">} &#x000A;<a name="l29"> &#x000A;<a name="l30"></span><span class="s2">#overlay img </span><span class="s0">{ &#x000A;&#x000A;<a name="l31"> </span><span class="s3">border</span><span class="s0">: </span><span class="s5">none</span><span class="s0">; &#x000A;<a name="l32">} &#x000A;<a name="l33"> &#x000A;<a name="l34"></span><span class="s2">#overlay </span><span class="s0">{ &#x000A;<a name="l35"> </span><span class="s3">background-image</span><span class="s0">: </span><span class="s2">url</span><span class="s0">(</span><span class="s5">/facelet-sandbox/images/modal/overlay-black.png</span><span class="s0">); &#x000A;<a name="l36">} &#x000A;&#x000A;<a name="l37"> &#x000A;<a name="l38">* </span><span class="s2">html #overlay </span><span class="s0">{ &#x000A;<a name="l39"> </span><span class="s3">background-color</span><span class="s0">: </span><span class="s5">transparent</span><span class="s0">; &#x000A;<a name="l40"> </span><span class="s3">background-image</span><span class="s0">: </span><span class="s2">url</span><span class="s0">(</span><span class="s5">blank.gif</span><span class="s0">); &#x000A;<a name="l41"> </span><span class="s2">filter</span><span class="s0">: </span><span class="s2">progid</span><span class="s0">:</span><span class="s2">DXImageTransform</span><span class="s0">.</span><span class="s2">Microsoft</span><span class="s0">.</span><span class="s2">AlphaImageLoader</span><span class="s0">(</span><span class="s2">src</span><span class="s0">=</span><span class="s5">&quot;/facelet-sandbox/images/modal/overlay-black.png&quot;</span><span class="s0">, </span><span class="s2">sizingMethod</span><span class="s0">=</span><span class="s5">&quot;scale&quot;</span><span class="s0">); &#x000A;&#x000A;<a name="l42">} &#x000A;<a name="l43"> &#x000A;<a name="l44"></span><span class="s1">/**************************************************************/</span>&#x000A;&#x000A;</code> </pre>
              
              
              <p></p>
              
              <p>This is our end result when you rerender a component using A4J. Btw, (you can modify the AjaxAnywhere js to do the same thing)</p>
              
              
              <p></p>
              
              <p> 
              <a href="http://www.jroller.comsrc="/images/jroller/modal_large.gif"><img src="http://www.jroller.comsrc="/images/jroller/modal_small.gif"/></a></p>
            </div>
            <div class='comments'>
              
                          <div id="disqus_thread"></div>
                          <script type="text/javascript">
                          var disqus_shortname = 'wesleyhales';
                          var disqus_url = "http://www.wesleyhales.com/blog/2006/12/26/Ajax4Jsf-Modal-Loading-Windows/";
                          var disqus_developer = null;
                          var disqus_identifier = null;
                          (function() {
                            var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                            dsq.src = "http://wesleyhales.disqus.com/embed.js";
                            (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                          })();
                          </script>
                          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=wesleyhales">comments powered by Disqus.</a></noscript>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br class='clear' />
    <script src='//platform.twitter.com/widgets.js' type='text/javascript'></script>
    <script src='http://twitter.com/javascripts/blogger.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        function twitterCallback3(twitters) {
          var statusHTML = [];
          for (var i=0; i<twitters.length; i++){
            var username = twitters[i].user.screen_name;
            var status = twitters[i].text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g, function(url) {
              return '<a href="'+url+'">'+url+'</a>';
            }).replace(/\B@([_a-z0-9]+)/ig, function(reply) {
              return  reply.charAt(0)+'<a href="http://twitter.com/'+reply.substring(1)+'">'+reply.substring(1)+'</a>';
            });
            statusHTML.push('<li><div>'+status+'</div><div class="actions"><a href="http://twitter.com/'+username+'/statuses/'+twitters[i].id_str+'">'+relative_time(twitters[i].created_at)+'</a>|<a class="tweet_action tweet_retweet" href="http://twitter.com/intent/retweet?tweet_id='+twitters[i].id_str+'"><img src="//si0.twimg.com/images/dev/cms/intents/icons/retweet.png">retweet</a>|<a class="tweet_action tweet_reply" href="http://twitter.com/intent/tweet?in_reply_to='+twitters[i].id_str+'"><img src="//si0.twimg.com/images/dev/cms/intents/icons/reply.png">reply</a></div></li>');
          }
          document.getElementById('twitter_update_list').innerHTML = statusHTML.join('');
        }
        
        // my custom JS
        
        //get a request pramaeter
        function getParameterByName(name) {
          var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
          return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
        }   
        
        //reckless abandon - adding querySelector as an option to getElementById
        var orig = document.getElementById;
        document.getElementById = function(){
          if (document.querySelector){
              return document.querySelector('#' + arguments[0]);
          }else{
              return orig(arguments[0]);
          }
        }   
        
        //navigation based on above method... could be better
        if(getParameterByName("p") == "design"){
          document.getElementById('design').className = 'selected';
        } else if(getParameterByName("p") == "projects"){
          document.getElementById('projects').className = 'selected';
        } else if(getParameterByName("p") == "contact"){
          document.getElementById('contact').className = 'selected';
        } else {
          document.getElementById('home').className = 'selected';
        }
        //-----------------------------------------/end nav
        
        var killed = false;
        
        if((!Modernizr.touch || window.innerWidth > 980)) {
          try{
            //todo need to handle orientation change here as well
            window.onscroll = function(){
              if(!killed){
                if(typeof( window.pageYOffset ) == 'number'){
                  if(window.pageYOffset > 1650) {
                    showNotif();
                  }else{
                    document.getElementById("fillitkillit").className = 'sticky-top-right notif transition hide';
                  }
                }else{
                  //lets deal with IE for the hell of it
                  if(document.documentElement.scrollTop > 1650 ){
                    showNotif();
                  }else{
                    document.getElementById("fillitkillit").className = 'none';
                  }
                }
              }
            }
          }catch(e){
            //swallow
          }
        }
        
        function showNotif(){
          document.getElementById("fillitkillit").className = 'sticky-top-right notif transition show';
        }
        //
        function fillit() {
          document.getElementById('rightcol').className = 'hidden';
          document.getElementById('post-container').style.width = '100%';
          document.getElementById('post-container').style.padding = '15px 0 15px 15px';
          document.getElementById('post-container').className = 'transition';
          document.getElementById('main').style.margin = '154px 0 0 0';
          document.getElementById('main').className = 'transition';
          killit();
        }
        
        function killit() {
          if(document.documentElement){
             //again, deal with IE
             document.getElementById("fillitkillit").className = 'none'
          }else{
             document.getElementById("fillitkillit").className = 'sticky-top-right notif transition hide'  
          }
          
          killed = true;
        }
      //]]>
    </script>
    <script src='http://twitter.com/statuses/user_timeline/wesleyhales.json?callback=twitterCallback3&amp;amp;count=2' type='text/javascript'></script>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-1241000-10");
    pageTracker._trackPageview();
    } catch(err) {}</script>
  </body>
</html>
